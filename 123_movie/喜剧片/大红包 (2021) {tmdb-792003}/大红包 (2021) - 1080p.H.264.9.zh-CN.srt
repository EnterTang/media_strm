1
00:00:21,410 --> 00:00:22,000
同学们

2
00:00:22,000 --> 00:00:23,120
今天我们来讲

3
00:00:23,120 --> 00:00:25,760
红包游戏的概率问题

4
00:00:25,760 --> 00:00:27,970
手机现在已经是我们身体

5
00:00:27,970 --> 00:00:29,970
不可或缺的一个器官了

6
00:00:29,970 --> 00:00:30,840
为什么呢

7
00:00:30,840 --> 00:00:33,080
因为手机上面有微信红包啊

8
00:00:33,080 --> 00:00:35,110
微信红包你们都玩过吧

9
00:00:35,110 --> 00:00:37,200
大家都知道微信红包很好玩

10
00:00:37,200 --> 00:00:39,010
但是你们知不知道

11
00:00:39,010 --> 00:00:42,080
微信红包是可以用来玩游戏的啊

12
00:00:42,080 --> 00:00:43,700
微信红包怎么玩游戏呢

13
00:00:43,700 --> 00:00:45,120
今天我就来教你们

14
00:00:45,120 --> 00:00:47,650
怎么用微信红包玩游戏

15
00:00:47,650 --> 00:00:48,830
现在有三个人

16
00:00:48,830 --> 00:00:52,100
分别叫做小红 小东和小西

17
00:00:52,100 --> 00:00:54,860
他们三个人凑在一起玩微信红包

18
00:00:54,860 --> 00:00:57,060
那上帝先给他们一块钱

19
00:00:57,060 --> 00:00:59,870
结果小红抽到了0.5元

20
00:00:59,870 --> 00:01:01,490
小东抽到了0.2元

21
00:01:01,490 --> 00:01:03,800
小西抽到了0.3元

22
00:01:03,800 --> 00:01:05,900
小红是不是应该最高兴啊

23
00:01:05,900 --> 00:01:07,920
可是小红却很不高兴

24
00:01:07,920 --> 00:01:08,840
为什么呢

25
00:01:08,840 --> 00:01:11,070
因为我们的游戏规则是

26
00:01:11,070 --> 00:01:13,970
谁抽到了最大的红包

27
00:01:13,970 --> 00:01:17,440
下一轮他就要出1块钱

28
00:01:17,440 --> 00:01:19,720
来作为三个人的游戏资金

29
00:01:19,720 --> 00:01:21,330
所以小红很不高兴啊

30
00:01:21,330 --> 00:01:24,920
进入了下一轮呢 小红抽到了0.25元

31
00:01:24,920 --> 00:01:26,680
小东抽到了0.6元

32
00:01:26,680 --> 00:01:28,840
小西抽到了0.15元

33
00:01:28,840 --> 00:01:32,390
这时候就轮到小东很不高兴了

34
00:01:32,390 --> 00:01:34,460
如此按照这样的规则

35
00:01:34,460 --> 00:01:36,330
不停地进行下去的话

36
00:01:36,330 --> 00:01:40,650
这就是我今天要讲的新的游戏方式

37
00:01:40,650 --> 00:01:41,760
刚才

38
00:01:41,760 --> 00:01:45,450
谁抽到最大红包 谁就要出1块钱啊

39
00:01:45,450 --> 00:01:46,680
但是

40
00:01:46,680 --> 00:01:49,460
具体出多少钱可能是有不同的规定的

41
00:01:49,460 --> 00:01:51,390
比如说我们可以规定

42
00:01:51,390 --> 00:01:54,340
获得最大红包要罚金1块钱

43
00:01:54,340 --> 00:01:55,620
也可能规定

44
00:01:55,620 --> 00:01:58,740
获得最大的红包要罚4块钱

45
00:01:58,740 --> 00:02:00,040
还可能规定

46
00:02:00,040 --> 00:02:03,440
获得最大红包要罚1.5倍的

47
00:02:03,440 --> 00:02:06,390
你所抽到的最大红包

48
00:02:06,390 --> 00:02:08,140
还有可能规定

49
00:02:08,140 --> 00:02:09,740
获得最大红包者

50
00:02:09,740 --> 00:02:13,030
要罚1.7倍的最大红包

51
00:02:13,030 --> 00:02:16,120
现在我想先让大家猜想一下

52
00:02:16,120 --> 00:02:17,910
这四种规则下面

53
00:02:17,910 --> 00:02:21,920
哪一种会造成最大的贫富悬殊呢

54
00:02:21,920 --> 00:02:23,950
这就是我们这节课要解决的

55
00:02:23,950 --> 00:02:26,300
最最最最重要的问题了

56
00:02:26,300 --> 00:02:27,350
你们现在先猜一下

57
00:02:28,910 --> 00:02:31,920
要想分析清楚你在游戏的过程中

58
00:02:31,920 --> 00:02:33,800
你可能会赚多少钱

59
00:02:33,800 --> 00:02:35,600
可能会亏多少钱

60
00:02:35,600 --> 00:02:37,810
我们首先就得研究一下

61
00:02:37,810 --> 00:02:40,080
微信是怎么样分发红包的

62
00:02:41,610 --> 00:02:42,820
我们都知道

63
00:02:42,820 --> 00:02:44,640
我们抽到的微信红包的

64
00:02:44,640 --> 00:02:46,640
金额是随机的对不对

65
00:02:46,640 --> 00:02:49,520
那电脑是怎么生成随机数的呢

66
00:02:49,520 --> 00:02:52,400
最简单的一种生成随机数的方法

67
00:02:52,400 --> 00:02:56,490
叫做0,1区间上面的均匀分布

68
00:02:56,490 --> 00:02:59,110
比如说我们现在看到的这个转盘

69
00:02:59,110 --> 00:03:02,420
那我们可以让这个指针转一下

70
00:03:02,420 --> 00:03:03,470
然后再

71
00:03:03,470 --> 00:03:06,810
随意的一个时间上面我们让它停止

72
00:03:06,810 --> 00:03:09,510
那么我们抽到的这个数字

73
00:03:09,510 --> 00:03:14,100
0,1均匀分布 上面的随机数

74
00:03:14,100 --> 00:03:15,370
那这简单啊

75
00:03:15,370 --> 00:03:18,990
我们就可以生成三个0,1均匀分布的随机数

76
00:03:18,990 --> 00:03:22,320
比如说小红抽到了0.74

77
00:03:22,320 --> 00:03:24,020
小东抽到了0.58

78
00:03:24,020 --> 00:03:26,020
小西抽到了0.17

79
00:03:26,020 --> 00:03:27,890
这样行不行呢

80
00:03:27,890 --> 00:03:28,800
不行的

81
00:03:28,800 --> 00:03:30,060
因为

82
00:03:30,060 --> 00:03:33,310
整个红包的金额是不是才1块钱呢

83
00:03:33,310 --> 00:03:35,390
你三个数加起来并不等于1啊

84
00:03:35,390 --> 00:03:37,830
数学上面解决这个问题的方法

85
00:03:37,830 --> 00:03:39,640
通常叫做归一化

86
00:03:39,640 --> 00:03:43,640
比如说小红的金额0.74

87
00:03:43,640 --> 00:03:47,550
可以当分子 然后三个数之和当分母

88
00:03:47,550 --> 00:03:51,260
现在新得到的这个数就是小红得到的金额

89
00:03:51,260 --> 00:03:54,560
那么归一化之后这三个数（之和）就等于1

90
00:03:54,560 --> 00:03:55,900
就没有问题了吧

91
00:03:55,900 --> 00:03:59,470
我们暂且把这种分发机制

92
00:03:59,470 --> 00:04:02,290
叫做成比例的方法吧

93
00:04:02,290 --> 00:04:04,520
另外一种方法我想把它称为

94
00:04:04,520 --> 00:04:06,060
折棍子的方法

95
00:04:06,060 --> 00:04:08,040
什么叫折棍子的方法呢

96
00:04:08,040 --> 00:04:10,720
我们还是在0,1这个区间上面

97
00:04:10,720 --> 00:04:13,680
随机的产生两个随机数

98
00:04:13,680 --> 00:04:16,990
因为两个啊 所以总有一个比较大

99
00:04:16,990 --> 00:04:18,590
总有一个比较小吧

100
00:04:18,590 --> 00:04:23,690
我把比较小的记为 coxi 1

101
00:04:21,700 --> 00:04:23,690
我把比较小的记为 xi 1

102
00:04:23,690 --> 00:04:27,080
比较大的记为 xi 2

103
00:04:27,080 --> 00:04:28,490
那么现在你看看

104
00:04:28,490 --> 00:04:32,150
这两个断点是不是把整根棍子

105
00:04:32,150 --> 00:04:34,870
分成了三小段呀

106
00:04:34,870 --> 00:04:37,280
第一段我们就说

107
00:04:37,280 --> 00:04:39,340
是小红得到的红包金额

108
00:04:39,340 --> 00:04:43,100
第二段就是小东的 第三段就是小西的

109
00:04:43,100 --> 00:04:45,680
小红的就是等于

110
00:04:45,680 --> 00:04:48,560
最小的这两个随机数

111
00:04:48,560 --> 00:04:52,820
小东的就等于最大的这个随机数减去

112
00:04:52,820 --> 00:04:54,700
最小的那个随机数

113
00:04:54,700 --> 00:04:59,640
而小西的就等于1减去最大的那个随机数

114
00:04:59,640 --> 00:05:01,110
我们把这种

115
00:05:01,110 --> 00:05:03,430
红包的分发机制也给他起个名字

116
00:05:03,430 --> 00:05:06,160
就把它叫做是折棍子的方法

117
00:05:06,160 --> 00:05:09,560
那你觉得是成比例的方法

118
00:05:09,560 --> 00:05:12,710
更符合微信红包的分发机制呢

119
00:05:12,710 --> 00:05:15,270
还是折棍子的方法更符合

120
00:05:15,270 --> 00:05:17,050
微信红包的分发机制呢

121
00:05:17,050 --> 00:05:22,520
我们就用这两种机制产生一百万个点

122
00:05:22,520 --> 00:05:25,050
好 你们现在看到的一百万个点

123
00:05:25,050 --> 00:05:28,260
的图像就打在这个屏幕上面了

124
00:05:28,260 --> 00:05:31,480
大家可以看到折棍子的方法的这一百个点

125
00:05:31,480 --> 00:05:33,050
是不是非常的均匀呢

126
00:05:33,050 --> 00:05:36,050
事实上 他就是这个三角形上面的

127
00:05:36,050 --> 00:05:37,140
均匀分布

128
00:05:37,140 --> 00:05:41,950
每个点在各个位置出现的可能性

129
00:05:41,950 --> 00:05:43,880
都是相同的

130
00:05:43,880 --> 00:05:45,570
而成比例法呢

131
00:05:45,570 --> 00:05:46,650
你看看

132
00:05:46,650 --> 00:05:48,920
这三个角是不是比较稀疏啊

133
00:05:48,920 --> 00:05:51,020
中间是不是比较密集啊

134
00:05:51,020 --> 00:05:54,920
也就是说出现小红一家独大

135
00:05:54,920 --> 00:05:58,370
另外两家几乎抽不到钱这种情况

136
00:05:58,370 --> 00:06:02,360
在成比例的方法中是比较不容易出现的

137
00:06:02,360 --> 00:06:04,810
那好了 现在是成比例法

138
00:06:04,810 --> 00:06:07,470
更符合微信的红包分发机制呢

139
00:06:07,470 --> 00:06:11,770
还是折棍子法更符合红包的分发机制呢

140
00:06:11,770 --> 00:06:13,400
怎么办

141
00:06:13,400 --> 00:06:16,210
那只好我们来做实验了

142
00:06:16,210 --> 00:06:19,340
实际上 我发动了

143
00:06:19,340 --> 00:06:21,400
全班的同学一起来做这个实验

144
00:06:22,940 --> 00:06:25,440
那么大家现在看到的图就是

145
00:06:25,440 --> 00:06:27,380
我们同学在做实验的时候

146
00:06:27,380 --> 00:06:30,020
分别拿来三台手机不停的做实验

147
00:06:30,020 --> 00:06:31,250
他们做了几次实验

148
00:06:31,250 --> 00:06:33,010
做了四百二十次实验

149
00:06:33,010 --> 00:06:36,610
好 四百二十次实验的分发的结果

150
00:06:36,610 --> 00:06:38,880
就在这个图上面展示出来了

151
00:06:38,880 --> 00:06:44,410
你们觉得这张图是更像成比例的

152
00:06:44,410 --> 00:06:45,710
那张分布图

153
00:06:45,710 --> 00:06:49,300
还是折棍子的那张分布图呢

154
00:06:49,300 --> 00:06:51,440
你想想啊

155
00:06:51,440 --> 00:06:55,340
好 是不是很难说清楚啊 那怎么办呢

156
00:06:55,340 --> 00:06:57,560
我们数学上面有一种方法

157
00:06:57,560 --> 00:07:00,670
用来检验到底更符合哪种

158
00:07:02,380 --> 00:07:05,840
这两种方式哪一种更符合实际情况呢

159
00:07:05,840 --> 00:07:09,330
首先 我把刚才你们看到的这个三角形啊

160
00:07:09,330 --> 00:07:12,140
分成了十个区域

161
00:07:12,140 --> 00:07:16,460
在实际上面总有一些点落入第五个区域吧

162
00:07:16,460 --> 00:07:19,290
我们把那四百二十次试验

163
00:07:19,290 --> 00:07:22,190
有几次实验落入了第五个区域的个数

164
00:07:22,190 --> 00:07:24,320
称为n5

165
00:07:24,320 --> 00:07:25,640
在理论上面

166
00:07:25,640 --> 00:07:28,880
一个点是否会落入第五个区域

167
00:07:28,880 --> 00:07:31,400
总应该付出一定的概率吧

168
00:07:31,400 --> 00:07:34,510
这个理论上面的概率是可以计算出来的吧

169
00:07:34,510 --> 00:07:37,490
比如说在折棍子的方法中

170
00:07:37,490 --> 00:07:41,520
一个点落入第五个区域的概率就等于

171
00:07:41,520 --> 00:07:46,800
第五个区域的面积除以整个三角形的面积

172
00:07:46,800 --> 00:07:48,380
所以这样的理论概率

173
00:07:48,380 --> 00:07:50,910
我们总是有办法计算出来的

174
00:07:50,910 --> 00:07:52,910
所以在理论上面

175
00:07:52,910 --> 00:07:55,720
应该有几个点落入第五个区域呢

176
00:07:55,720 --> 00:07:59,300
就等于样本点的个数四百二十次

177
00:07:59,300 --> 00:08:03,080
乘以落入第五个区域的理论概率

178
00:08:03,080 --> 00:08:05,850
所以这个是我们可以计算出来的

179
00:08:05,850 --> 00:08:08,240
那么既然这样子的话

180
00:08:08,240 --> 00:08:12,640
如果微信 比如说真的是按照

181
00:08:12,640 --> 00:08:14,910
折棍子的方法来分发的

182
00:08:14,910 --> 00:08:17,840
那么实际上面观察到的

183
00:08:17,840 --> 00:08:20,990
落入第五个区域的个数 是不是应该

184
00:08:20,990 --> 00:08:23,900
很接近理论上面

185
00:08:23,900 --> 00:08:25,860
落入第五个区域的个数啊

186
00:08:25,860 --> 00:08:28,670
所以大家现在看到的这个式子

187
00:08:28,670 --> 00:08:30,530
分子就不应该很大

188
00:08:30,530 --> 00:08:33,220
所以整个式子也不应该很大

189
00:08:33,220 --> 00:08:35,640
这是对第五个区域而言

190
00:08:35,640 --> 00:08:36,900
有这样的性质啊

191
00:08:36,900 --> 00:08:41,070
事实上对所有的十个区域都具有这样的性质

192
00:08:41,070 --> 00:08:45,360
所以现在大家看到的这个卡方等于

193
00:08:45,360 --> 00:08:47,020
这么一个表达式

194
00:08:47,020 --> 00:08:48,390
就不应该很大

195
00:08:50,000 --> 00:08:52,910
我们先来看看折棍子的情况

196
00:08:52,910 --> 00:08:55,870
老师把计算结果都列在

197
00:08:55,870 --> 00:08:58,240
右图的这张表中了

198
00:08:58,240 --> 00:09:01,550
那么最后算出来那个卡方的值等于多少呢

199
00:09:01,550 --> 00:09:04,990
是等于14.30的

200
00:09:04,990 --> 00:09:06,960
我们再来看看成比例的分法

201
00:09:06,960 --> 00:09:11,090
计算结果还是在右图的这个表格中

202
00:09:11,090 --> 00:09:14,280
计算结果是多少呢 85.22

203
00:09:14,280 --> 00:09:17,870
所以你看从这么一个角度来分析

204
00:09:17,870 --> 00:09:22,580
你觉得是折棍子的方法更符合实际情况

205
00:09:22,580 --> 00:09:25,930
还是成比例的方法更符合实际情况呢

206
00:09:25,930 --> 00:09:29,920
显然是折棍子的方法更符合实际情况的

207
00:09:29,920 --> 00:09:30,760
事实上

208
00:09:30,760 --> 00:09:34,540
这种方法在数学上面有专门的一个名词

209
00:09:34,540 --> 00:09:37,990
叫做卡方优度拟合检验

210
00:09:37,990 --> 00:09:41,890
它的操作方法首先是划分成若干个小区域

211
00:09:41,890 --> 00:09:44,800
然后我们计算每个小区域的

212
00:09:44,800 --> 00:09:47,920
实际上面的个数和理论上面的个数

213
00:09:47,920 --> 00:09:52,220
的差的平方在构造这么一个表达式来求和

214
00:09:52,220 --> 00:09:55,040
这个式子我们把它叫做是卡方

215
00:09:55,040 --> 00:09:57,480
卡方的值当然是越小越好了

216
00:09:57,480 --> 00:09:59,050
那么多大算大

217
00:09:59,050 --> 00:10:00,840
多小算小呢

218
00:10:00,840 --> 00:10:04,730
数学上面我们是可以找到一个阈值的

219
00:10:04,730 --> 00:10:09,590
这个阈值是可以通过查表的方法来得到的

220
00:10:09,590 --> 00:10:15,040
如果你算出来的这个值比这个阈值来的更小

221
00:10:15,040 --> 00:10:18,020
我们就说明这个还是挺合理的

222
00:10:18,020 --> 00:10:20,680
就是你认为的那种分布

223
00:10:20,680 --> 00:10:23,950
如果太大的话就说明你的分布是不合理的

224
00:10:23,950 --> 00:10:25,720
在刚才的例子中

225
00:10:25,720 --> 00:10:27,570
折棍子的方法比较小

226
00:10:27,570 --> 00:10:30,210
并且他是小于这个预值的

227
00:10:30,210 --> 00:10:33,660
所以我们认为折棍子的方法是合理的

228
00:10:33,660 --> 00:10:35,420
而成比例的方法呢

229
00:10:35,420 --> 00:10:38,330
他计算出来的那个值是大于阈值的

230
00:10:38,330 --> 00:10:41,090
所以我们认为微信红包

231
00:10:41,090 --> 00:10:44,790
并不是按照成比例的方法来分发的

232
00:10:45,930 --> 00:10:49,080
既然折棍子的方法更符合我们的观测

233
00:10:49,080 --> 00:10:51,920
以后我们就暂且认为 微信红包

234
00:10:51,920 --> 00:10:55,420
是按照折棍子的方法来分发红包的

235
00:10:55,420 --> 00:10:56,880
这种分发机制就对应了

236
00:10:56,880 --> 00:10:59,310
大家现在看到的这个三角形上面的

237
00:10:59,310 --> 00:11:00,690
均匀分布

238
00:11:00,690 --> 00:11:04,610
好微信红包的分发方法我们就先讲到这里


